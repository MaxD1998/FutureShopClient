<div class="bg-neutral-800 rounded-xl cursor-pointer" (mouseenter)="setHover(true)" (mouseleave)="setHover(false)">
  <div class="relative">
    @if (product().isInPurchaseList || isHover()) {
      <div class="absolute top-2 right-2">
        <div class="rounded-md overflow-hidden bg-sky-600 hover:bg-sky-700">
          <a class="block p-1 text-white" (click)="addToFavourite()">
            <app-icon [iconName]="product().isInPurchaseList ? IconType.fillHeart : IconType.heart"></app-icon>
          </a>
        </div>
        <app-drop-down [(isVisible)]="isFavouriteOpen">
          <app-add-product-to-purchase-list
            [isVisible]="isFavouriteOpen()"
            [productId]="product().id"
            (isInPurchaseListChange)="onInPurchaseListChange($event)"
            (onClose)="isFavouriteOpen.set($event)">
          </app-add-product-to-purchase-list>
        </app-drop-down>
      </div>
    }
  </div>
  <div class="flex flex-col h-96 p-4" (click)="goToDetails()">
    <div class="flex justify-center">
      <img class="object-contain h-60" [src]="image()" />
    </div>
    <div class="flex-auto">
      <span class="text-white font-semibold">
        {{ product().name }}
      </span>
    </div>
    <div class="flex">
      <span class="text-2xl text-white font-semibold">
        {{ product().price }}
        {{ 'common.currencies.pln' | translate }}
      </span>
    </div>
    <div class="pt-2">
      <app-button
        [label]="'shop-module.product-item.component.add-to-basket' | translate"
        (onClick)="addToBasket($event)">
      </app-button>
    </div>
  </div>
</div>
